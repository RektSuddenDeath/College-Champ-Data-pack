
scoreboard players set red sbrank_target 0
scoreboard players set blue sbrank_target 0
scoreboard players set green sbrank_target 0
scoreboard players set yellow sbrank_target 0
scoreboard players set cyan sbrank_target 0
scoreboard players set orange sbrank_target 0
scoreboard players set purple sbrank_target 0
scoreboard players set pink sbrank_target 0

execute as @a[team=red] run scoreboard players operation red sbrank_target += @s pkw2_main
execute as @a[team=blue] run scoreboard players operation blue sbrank_target += @s pkw2_main
execute as @a[team=green] run scoreboard players operation green sbrank_target += @s pkw2_main
execute as @a[team=yellow] run scoreboard players operation yellow sbrank_target += @s pkw2_main
execute as @a[team=cyan] run scoreboard players operation cyan sbrank_target += @s pkw2_main
execute as @a[team=orange] run scoreboard players operation orange sbrank_target += @s pkw2_main
execute as @a[team=purple] run scoreboard players operation purple sbrank_target += @s pkw2_main
execute as @a[team=pink] run scoreboard players operation pink sbrank_target += @s pkw2_main

execute as @a[team=red] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation red sbrank_target += @s pkw2_bonus1
execute as @a[team=blue] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation blue sbrank_target += @s pkw2_bonus1
execute as @a[team=green] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation green sbrank_target += @s pkw2_bonus1
execute as @a[team=yellow] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation yellow sbrank_target += @s pkw2_bonus1
execute as @a[team=cyan] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation cyan sbrank_target += @s pkw2_bonus1
execute as @a[team=orange] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation orange sbrank_target += @s pkw2_bonus1
execute as @a[team=purple] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation purple sbrank_target += @s pkw2_bonus1
execute as @a[team=pink] if score @s pkw2_bonus1 matches 1.. run scoreboard players operation pink sbrank_target += @s pkw2_bonus1

execute as @a[team=red] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation red sbrank_target += @s pkw2_bonus2
execute as @a[team=blue] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation blue sbrank_target += @s pkw2_bonus2
execute as @a[team=green] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation green sbrank_target += @s pkw2_bonus2
execute as @a[team=yellow] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation yellow sbrank_target += @s pkw2_bonus2
execute as @a[team=cyan] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation cyan sbrank_target += @s pkw2_bonus2
execute as @a[team=orange] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation orange sbrank_target += @s pkw2_bonus2
execute as @a[team=purple] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation purple sbrank_target += @s pkw2_bonus2
execute as @a[team=pink] if score @s pkw2_bonus2 matches 1.. run scoreboard players operation pink sbrank_target += @s pkw2_bonus2

execute as @a[team=red] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation red sbrank_target += @s pkw2_bonus3
execute as @a[team=blue] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation blue sbrank_target += @s pkw2_bonus3
execute as @a[team=green] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation green sbrank_target += @s pkw2_bonus3
execute as @a[team=yellow] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation yellow sbrank_target += @s pkw2_bonus3
execute as @a[team=cyan] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation cyan sbrank_target += @s pkw2_bonus3
execute as @a[team=orange] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation orange sbrank_target += @s pkw2_bonus3
execute as @a[team=purple] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation purple sbrank_target += @s pkw2_bonus3
execute as @a[team=pink] if score @s pkw2_bonus3 matches 1.. run scoreboard players operation pink sbrank_target += @s pkw2_bonus3

execute as @a[team=red] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation red sbrank_target += @s pkw2_bonus4
execute as @a[team=blue] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation blue sbrank_target += @s pkw2_bonus4
execute as @a[team=green] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation green sbrank_target += @s pkw2_bonus4
execute as @a[team=yellow] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation yellow sbrank_target += @s pkw2_bonus4
execute as @a[team=cyan] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation cyan sbrank_target += @s pkw2_bonus4
execute as @a[team=orange] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation orange sbrank_target += @s pkw2_bonus4
execute as @a[team=purple] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation purple sbrank_target += @s pkw2_bonus4
execute as @a[team=pink] if score @s pkw2_bonus4 matches 1.. run scoreboard players operation pink sbrank_target += @s pkw2_bonus4

execute as @a[team=red] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation red sbrank_target += @s pkw2_bonus5
execute as @a[team=blue] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation blue sbrank_target += @s pkw2_bonus5
execute as @a[team=green] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation green sbrank_target += @s pkw2_bonus5
execute as @a[team=yellow] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation yellow sbrank_target += @s pkw2_bonus5
execute as @a[team=cyan] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation cyan sbrank_target += @s pkw2_bonus5
execute as @a[team=orange] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation orange sbrank_target += @s pkw2_bonus5
execute as @a[team=purple] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation purple sbrank_target += @s pkw2_bonus5
execute as @a[team=pink] if score @s pkw2_bonus5 matches 1.. run scoreboard players operation pink sbrank_target += @s pkw2_bonus5

function utils:scoreboardrank/calc

# Refresh all teams
data modify storage temp_sbrank namespace set value pkw2_sb
function pkw2:scoreboard/refresh_new/0 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_red
execute if score red sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score red sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score red sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score red sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score red sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score red sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score red sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score red sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_blue
execute if score blue sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score blue sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score blue sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score blue sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score blue sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score blue sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score blue sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score blue sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_green
execute if score green sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score green sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score green sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score green sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score green sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score green sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score green sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score green sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_yellow
execute if score yellow sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score yellow sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score yellow sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score yellow sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score yellow sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score yellow sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score yellow sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score yellow sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_cyan
execute if score cyan sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score cyan sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score cyan sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score cyan sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score cyan sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score cyan sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score cyan sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score cyan sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_pink
execute if score pink sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score pink sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score pink sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score pink sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score pink sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score pink sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score pink sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score pink sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_orange
execute if score orange sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score orange sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score orange sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score orange sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score orange sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score orange sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score orange sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score orange sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank

data modify storage temp_sbrank namespace set value pkw2_sb_purple
execute if score purple sbrank_rank matches 1 run function pkw2:scoreboard/refresh_new/1 with storage temp_sbrank
execute if score purple sbrank_rank matches 2 run function pkw2:scoreboard/refresh_new/2 with storage temp_sbrank
execute if score purple sbrank_rank matches 3 run function pkw2:scoreboard/refresh_new/3 with storage temp_sbrank
execute if score purple sbrank_rank matches 4 run function pkw2:scoreboard/refresh_new/4 with storage temp_sbrank
execute if score purple sbrank_rank matches 5 run function pkw2:scoreboard/refresh_new/5 with storage temp_sbrank
execute if score purple sbrank_rank matches 6 run function pkw2:scoreboard/refresh_new/6 with storage temp_sbrank
execute if score purple sbrank_rank matches 7 run function pkw2:scoreboard/refresh_new/7 with storage temp_sbrank
execute if score purple sbrank_rank matches 8 run function pkw2:scoreboard/refresh_new/8 with storage temp_sbrank


function pkw2:scoreboard/refresh/global
function pkw2:scoreboard/refresh/red
function pkw2:scoreboard/refresh/blue
function pkw2:scoreboard/refresh/green
function pkw2:scoreboard/refresh/yellow
function pkw2:scoreboard/refresh/cyan
function pkw2:scoreboard/refresh/orange
function pkw2:scoreboard/refresh/pink
function pkw2:scoreboard/refresh/purple

schedule function pkw2:scoreboard/refresh 1s