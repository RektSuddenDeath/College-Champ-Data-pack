
scoreboard players add TimeElapsed rsr_game 1

# Island 2-8
execute if score TimeElapsed rsr_game matches 25 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 29 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 33 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 37 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 41 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 45 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 49 run function rocketspleefrush:map/skyblock/generate_next_arrow

execute if score TimeElapsed rsr_game matches 29 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 33 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 37 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 41 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 45 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 49 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 53 run function rocketspleefrush:map/skyblock/generate_next_island

execute if score TimeElapsed rsr_game matches 32 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 36 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 40 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 44 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 48 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 52 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 56 run function rocketspleefrush:map/skyblock/disintegrate_next_island

# Island 9-15
execute if score TimeElapsed rsr_game matches 80 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 84 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 88 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 92 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 96 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 100 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 104 run function rocketspleefrush:map/skyblock/generate_next_arrow

execute if score TimeElapsed rsr_game matches 84 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 88 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 92 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 96 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 100 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 104 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 108 run function rocketspleefrush:map/skyblock/generate_next_island

execute if score TimeElapsed rsr_game matches 87 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 91 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 95 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 99 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 103 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 107 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 111 run function rocketspleefrush:map/skyblock/disintegrate_next_island

# Island 16-23
execute if score TimeElapsed rsr_game matches 130 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 134 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 138 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 142 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 146 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 150 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 154 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 158 run function rocketspleefrush:map/skyblock/generate_next_arrow


execute if score TimeElapsed rsr_game matches 134 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 138 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 142 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 146 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 150 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 154 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 158 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 162 run function rocketspleefrush:map/skyblock/generate_next_island

execute if score TimeElapsed rsr_game matches 137 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 141 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 145 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 149 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 153 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 157 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 161 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 165 run function rocketspleefrush:map/skyblock/disintegrate_next_island

# Island 24-28
execute if score TimeElapsed rsr_game matches 180 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 184 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 188 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 192 run function rocketspleefrush:map/skyblock/generate_next_arrow
execute if score TimeElapsed rsr_game matches 196 run function rocketspleefrush:map/skyblock/generate_next_arrow


execute if score TimeElapsed rsr_game matches 184 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 188 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 192 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 196 run function rocketspleefrush:map/skyblock/generate_next_island
execute if score TimeElapsed rsr_game matches 200 run function rocketspleefrush:map/skyblock/generate_next_island

execute if score TimeElapsed rsr_game matches 187 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 191 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 195 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 199 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 203 run function rocketspleefrush:map/skyblock/disintegrate_next_island

# # Universal
# execute if score TimeElapsed rsr_game matches 110 run execute as @a at @s run playsound updraftremovedsfx record @s ~ ~ ~ 1 1
# execute if score TimeElapsed rsr_game matches 110 run title @a times 10 40 10
# execute if score TimeElapsed rsr_game matches 110 run title @a title ""
# execute if score TimeElapsed rsr_game matches 110 run title @a subtitle "§c(§r鼱§c) §e抬升道具§f将在10秒后移除。"
# execute if score TimeElapsed rsr_game matches 110 run execute as @a at @s run playsound sound.mapupdate record @s ~ ~ ~ 1

# execute if score TimeElapsed rsr_game matches 120 run clear @a ender_pearl
# execute if score TimeElapsed rsr_game matches 120 run tellraw @a "§c(§r鼱§c) §c§l抬升道具已移除！"


# 1st Updraft
execute if score TimeElapsed rsr_game matches 50 run title @a times 10 40 10
execute if score TimeElapsed rsr_game matches 50 run title @a title ""
execute if score TimeElapsed rsr_game matches 50 run title @a subtitle "§e(§r獍§e) §e第1个§6抬升道具§e将在10秒后移除。"
execute if score TimeElapsed rsr_game matches 50 run execute as @a at @s run playsound sound.mapupdate record @s ~ ~ ~ 1

execute if score TimeElapsed rsr_game matches 60 run clear @a[scores={rsr_round_updraft=0}] ender_pearl 1
execute if score TimeElapsed rsr_game matches 60 run tellraw @a "§c(§r鼱§c) §6第1个§c抬升道具§6已移除！"

# 2nd Updraft
execute if score TimeElapsed rsr_game matches 130 run title @a times 10 40 10
execute if score TimeElapsed rsr_game matches 130 run title @a title ""
execute if score TimeElapsed rsr_game matches 130 run title @a subtitle "§e(§r獍§e) §e第2个§6抬升道具§e将在10秒后移除。"
execute if score TimeElapsed rsr_game matches 130 run execute as @a at @s run playsound sound.mapupdate record @s ~ ~ ~ 1

execute if score TimeElapsed rsr_game matches 140 run clear @a ender_pearl
execute if score TimeElapsed rsr_game matches 140 run tellraw @a "§c(§r鼱§c) §6第2个§c抬升道具§6已移除！"

execute if score TimeElapsed rsr_game matches 230 run function rocketspleefrush:map/skyblock/disintegrate_next_island
execute if score TimeElapsed rsr_game matches 226 run tellraw @a "§c(§r鼱§c) §c§l最后一个平台将在5秒后移除！"
execute if score TimeElapsed rsr_game matches 226 run execute as @a at @s run playsound sound.mapupdate record @s ~ ~ ~ 1

# Struck Damage Increase

execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 80 run scoreboard players operation dura_loss_per_struck rsr_game = struck_per_stack_2 rsr_game
execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 80 run scoreboard players operation dura_loss_per_tick rsr_game = dura_loss_2 rsr_game
execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 80 run tellraw @a ["","§b[§r牖§b] ","§b难度提升至",{"text": "75% 直击伤害, 125%耐久流失速度","color": "#E3E3E3"},"§b！"]

execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 160 run scoreboard players operation dura_loss_per_struck rsr_game = struck_per_stack_3 rsr_game
execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 160 run scoreboard players operation dura_loss_per_tick rsr_game = dura_loss_3 rsr_game
execute if score durability rsr_game matches 1 if score TimeElapsed rsr_game matches 160 run tellraw @a ["","§b[§r牖§b] ","§b难度提升至",{"text": "100% 直击伤害, 150%耐久流失速度","color": "#E3E3E3"},"§b！"]


#execute as @e[type=item_display,tag=!moved,tag=nextplatform] at @s run tp @s ~ ~2 ~ 
#execute as @e[type=item_display,tag=!moved,tag=nextplatform] run tag @s add moved

execute if score gameflag rsr_game matches 1 run schedule function rocketspleefrush:map/skyblock/time 1s